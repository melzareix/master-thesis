\chapter{Conclusion}\label{chapter:conclusion}
This thesis presented our prototype implementation of a performant automata-based, SQL-compliant regular expressions engine with Unicode support and dynamic compilation built on top of the LLVM compiler infrastructure.

Our implementation aims to handle RegExps matching (as a sub-engine) inside a DBMS. It aims to deliver high performance on commonly used regular expressions while acknowledging that not all RegExps can be handled by the underlying algorithm, which also has significant memory and compilation time requirements.

Performance evaluations of the prototype to other popular general-purpose regular expression engines show promising results. On a dataset with 32 million rows, we achieved up to $2.7x$ speedup against PCRE2 and up to $1.8x$ speedup against RE2. These results show how adding code-generation and compilation is beneficial over large datasets, and a large number of runs amortizes the cost of compilation.

\section{Future Work}\label{futurework}

Future work should focus on extending the engine features and optimizations. Possible features include:
\begin{itemize}
    \item \textbf{Full Unicode Support}: Full Unicode Level 1 support should be added, followed by Unicode level 2 support.
    \item \textbf{Regex Features}: Currently, we only support an essential subset of RegExp features. We could extend the engine also to report the matching boundaries. Word-boundaries, Capture groups, anchored matches, and lookaheads are also popular features that could be useful to add and test its performance.  
    \item \textbf{Adaptive Compilation}: The engine currently always JITs the DFA before execution which is costly for patterns that are executed on a small number of rows. We could improve this by doing adaptive compilation where we dynamically switch from interpretation to compilation only when needed.
\end{itemize}

While achieving good performance, the current engine only includes a small subset of optimizations. We can  extend it to include:

\begin{itemize}
    \item \textbf{DFA minimization}: Adding DFA minimization algorithms, e.g., Hop-Croft algorithm, to further reduce the code generated and DFA transitions.
    \item \textbf{RegExp Decomposition}: SIMD optimizations through RegExp decomposition only all expressions is also another important optimization. An pattern e.g. \texttt{\textbf{ab|cd}} could be decomposed to two expressions \texttt{\textbf{ab}} and \texttt{\textbf{cd}} and EPSM algorithm used to search for the patterns instead of using the DFA. The importance of this optimization was shown in the results of Regex-Redux benchmark in sub-section \ref{regexredux}.
\end{itemize}
